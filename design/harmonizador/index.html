<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cejera - Harmonizador</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Source Code Pro', monospace;
    }

    body {
      background-color: #0d0000;
      color: #ffffff;
      line-height: 1.6;
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
    }

    .grid-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        linear-gradient(to right, rgba(247, 7, 7, 0.03) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(247, 7, 7, 0.03) 1px, transparent 1px);
      background-size: 30px 30px;
      z-index: 0;
      pointer-events: none;
    }

    .header {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(34, 0, 0, 0.9);
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid #F70707;
      z-index: 1000;
    }

    .header-logo {
      width: 120px;
      filter: drop-shadow(0 0 5px #F70707);
      transition: transform 0.3s;
    }

    .header-logo:hover {
      transform: scale(1.05);
    }

    .header-title {
      font-size: 1.8rem;
      color: #ffffff;
      text-shadow: 0 0 10px #F70707;
      letter-spacing: 3px;
    }

    .cta-button {
      background: #F70707;
      color: #0d0000;
      border: none;
      padding: 0.8rem 1.5rem;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s;
      border-radius: 7px;
      text-transform: uppercase;
      font-weight: bold;
    }

    .cta-button:hover {
      background: #ffffff;
      box-shadow: 0 0 15px #F70707;
      transform: translateY(-2px);
    }

    .container {
      max-width: 1200px;
      margin: 100px auto 0;
      padding: 2rem;
      position: relative;
      z-index: 2;
    }

    .harmonizer {
      background: rgba(13, 0, 0, 0.8);
      border: 2px solid #F70707;
      border-radius: 7px;
      padding: 2rem;
      margin-bottom: 3rem;
      box-shadow: 0 0 30px rgba(247, 7, 7, 0.3);
      position: relative;
      overflow: hidden;
    }

    .harmonizer::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, 
        rgba(247, 7, 7, 0.05) 0%, 
        rgba(247, 7, 7, 0.02) 20%,
        rgba(247, 7, 7, 0.05) 40%,
        rgba(247, 7, 7, 0.08) 60%,
        rgba(247, 7, 7, 0.05) 80%,
        rgba(247, 7, 7, 0.02) 100%);
      pointer-events: none;
      z-index: 1;
    }

    .harmonizer-title {
      color: #F70707;
      font-size: 2.5rem;
      margin-bottom: 2rem;
      text-align: center;
      text-shadow: 0 0 10px rgba(247, 7, 7, 0.5);
      position: relative;
      padding-bottom: 1rem;
    }

    .harmonizer-title::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 3px;
      background: linear-gradient(90deg, transparent, #F70707, transparent);
    }

    .input-section {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .control-group {
      background: rgba(34, 0, 0, 0.7);
      border: 1px solid #F70707;
      border-radius: 7px;
      padding: 1.5rem;
      position: relative;
      z-index: 2;
    }

    .control-title {
      color: #F70707;
      font-size: 1.3rem;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 10px;
      justify-content: center;
    }

    .control-title i {
      font-size: 1.5rem;
    }

    .color-inputs {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .color-input {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .color-preview {
      width: 50px;
      height: 50px;
      border-radius: 7px;
      border: 2px solid #444;
      cursor: pointer;
      transition: all 0.3s;
    }

    .color-preview:hover {
      transform: scale(1.05);
      border-color: #fff;
    }

    .color-input input {
      flex: 1;
      background: #220000;
      border: 1px solid #F70707;
      color: #fff;
      padding: 0.8rem;
      border-radius: 5px;
      font-size: 1rem;
    }

    .options-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      justify-items: center;
      margin-top: 1rem;
    }

    .option-btn {
      background: #220000;
      border: 1px solid #F70707;
      color: #aaa;
      padding: 0.8rem;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s;
      text-align: center;
      font-size: 0.9rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
      position: relative;
      overflow: hidden;
      width: 100%;
      max-width: 120px;
    }

    .option-btn::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(247,7,7,0.3) 0%, transparent 100%);
      opacity: 0;
      transition: opacity 0.3s;
      z-index: 0;
    }

    .option-btn:hover {
      background: rgba(247, 7, 7, 0.2);
      color: #fff;
    }

    .option-btn:hover::before {
      opacity: 1;
    }

    .option-btn.active {
      background: rgba(247, 7, 7, 0.4);
      border: 1px solid #fff;
      color: #fff;
      box-shadow: 0 0 10px rgba(247, 7, 7, 0.5);
    }

    .slider-container {
      margin: 1.5rem 0;
    }

    .slider-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      color: #aaa;
    }

    .slider {
      width: 100%;
      height: 10px;
      -webkit-appearance: none;
      background: #220000;
      border-radius: 5px;
      outline: none;
      border: 1px solid #F70707;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      background: #F70707;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(247, 7, 7, 0.8);
    }

    .harmony-display {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      margin-top: 3rem;
    }

    .color-card {
      height: 220px;
      border-radius: 7px;
      overflow: hidden;
      position: relative;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
      transition: transform 0.3s;
      display: flex;
      flex-direction: column;
    }

    .color-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(247, 7, 7, 0.3);
    }

    .color-preview-large {
      flex-grow: 1;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      font-weight: bold;
      text-shadow: 0 0 5px rgba(0,0,0,0.8);
      text-align: center;
      padding: 0.5rem;
      box-sizing: border-box;
    }

    .color-info {
      background: rgba(34, 0, 0, 0.9);
      padding: 1rem;
      text-align: center;
      border-top: 1px solid #F70707;
    }

    .hex-code {
      font-size: 1.1rem;
      font-weight: bold;
      letter-spacing: 1px;
      color: #fff;
      cursor: pointer;
      transition: all 0.3s;
      padding: 5px;
      border-radius: 3px;
    }

    .hex-code:hover {
      background: rgba(247, 7, 7, 0.3);
    }

    .generate-btn-container {
      display: flex;
      justify-content: center;
      margin-top: 2rem;
    }

    .generate-btn {
      background: #F70707;
      color: #0d0000;
      border: none;
      padding: 1rem 2.5rem;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s;
      border-radius: 7px;
      text-transform: uppercase;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 10px;
      position: relative;
      overflow: hidden;
      z-index: 2;
    }

    .generate-btn::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: 0.5s;
      z-index: -1;
    }

    .generate-btn:hover {
      background: #ffffff;
      box-shadow: 0 0 20px #F70707;
      transform: scale(1.05);
    }

    .generate-btn:hover::before {
      left: 100%;
    }

    .action-buttons {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-top: 1.5rem;
    }

    .action-btn {
      background: rgba(34, 0, 0, 0.7);
      border: 1px solid #F70707;
      color: #fff;
      padding: 0.7rem 1.5rem;
      border-radius: 7px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.9rem;
    }

    .action-btn:hover {
      background: rgba(247, 7, 7, 0.3);
    }

    .scanlines {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0.15) 0px,
        rgba(0, 0, 0, 0.15) 1px,
        transparent 2px,
        transparent 4px
      );
      pointer-events: none;
      z-index: 1001;
      animation: scanMove 3s linear infinite;
    }

    @keyframes scanMove {
      0% { transform: translateY(0); }
      100% { transform: translateY(4px); }
    }

    .crt-effect {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: radial-gradient(ellipse at center, rgba(247,7,7,0.05) 0%, rgba(0,0,0,0.2) 100%);
      z-index: 1001;
      mix-blend-mode: screen;
      filter: blur(0.6px);
    }

    .notification {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(34, 0, 0, 0.9);
      border: 1px solid #F70707;
      color: #fff;
      padding: 1rem 2rem;
      border-radius: 7px;
      z-index: 2000;
      opacity: 0;
      transition: opacity 0.3s;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    }

    .notification.show {
      opacity: 1;
    }

    footer {
      background: #220000;
      padding: 2rem;
      text-align: center;
      border-top: 2px solid #F70707;
      margin-top: 3rem;
    }

    .color-role {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      font-size: 0.8rem;
      z-index: 2;
    }

    @media (max-width: 768px) {
      .header {
        flex-direction: column;
        padding: 0.8rem;
      }
      
      .header-logo {
        width: 100px;
        margin-bottom: 0.5rem;
      }
      
      .header-title {
        font-size: 1.5rem;
        margin-bottom: 0.8rem;
      }
      
      .container {
        padding: 1.5rem;
        margin-top: 120px;
      }
      
      .harmonizer {
        padding: 1.5rem;
      }
      
      .harmonizer-title {
        font-size: 2rem;
      }
      
      .input-section {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
      
      .control-group {
        padding: 1.2rem;
      }
      
      .harmony-display {
        grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      }
      
      .color-card {
        height: 200px;
      }
      
      .options-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    @media (max-width: 480px) {
      .header-title {
        font-size: 1.3rem;
      }
      
      .cta-button {
        padding: 0.6rem 1.2rem;
        font-size: 0.9rem;
      }
      
      .container {
        padding: 1rem;
        margin-top: 140px;
      }
      
      .harmonizer {
        padding: 1rem;
      }
      
      .harmonizer-title {
        font-size: 1.8rem;
      }
      
      .control-title {
        font-size: 1.1rem;
      }
      
      .option-btn {
        padding: 0.6rem;
        font-size: 0.8rem;
        max-width: 100px;
      }
      
      .color-card {
        height: 180px;
      }
      
      .hex-code {
        font-size: 0.9rem;
      }
      
      .generate-btn {
        padding: 0.8rem 2rem;
        font-size: 1rem;
      }
      
      .options-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="grid-bg"></div>
  <div class="scanlines"></div>
  <div class="crt-effect"></div>
  
  <div class="notification" id="notification">Código HEX copiado!</div>

  <header class="header">
    <a href="https://cejera.com">
      <img src="cejera-03.svg" class="header-logo" alt="Cejera">
    </a> 
    <h1 class="header-title">HARMONIZADOR</h1>
    <a href="https://cejera.com/design" class="cta-button">Quem sou eu?</a>
  </header>

  <div class="container">
    <div class="harmonizer">
      <h2 class="harmonizer-title">HARMONIZAÇÃO DE CORES</h2>
      
      <div class="input-section">
        <div class="control-group">
          <div class="control-title">
            <i class="fas fa-palette"></i>
            <span>CORES PRINCIPAIS</span>
          </div>
          
          <div class="color-inputs">
            <div class="color-input">
              <div class="color-preview" id="color1-preview" style="background-color: #F70707;"></div>
              <input type="text" id="color1-input" value="#F70707" placeholder="Cor principal (HEX)">
            </div>
            
            <div class="color-input">
              <div class="color-preview" id="color2-preview" style="background-color: #7c0000;"></div>
              <input type="text" id="color2-input" value="#7c0000" placeholder="Cor secundária (HEX)">
            </div>
          </div>
        </div>
        
        <div class="control-group">
          <div class="control-title">
            <i class="fas fa-sliders-h"></i>
            <span>CONFIGURAÇÕES</span>
          </div>
          
          <div class="slider-container">
            <div class="slider-label">
              <span>Número de cores:</span>
              <span id="color-count-value">7</span>
            </div>
            <input type="range" min="4" max="12" value="7" class="slider" id="color-count">
          </div>
          
          <div class="control-title" style="margin-top: 1.5rem;">
            <i class="fas fa-object-group"></i>
            <span>TIPO DE PALETA</span>
          </div>
          
          <div class="options-grid">
            <div class="option-btn active" data-scheme="monochromatic">
              <i class="fas fa-circle"></i>
              <span>Monocromática</span>
            </div>
            <div class="option-btn" data-scheme="analogous">
              <i class="fas fa-adjust"></i>
              <span>Análoga</span>
            </div>
            <div class="option-btn" data-scheme="complementary">
              <i class="fas fa-exchange-alt"></i>
              <span>Complementar</span>
            </div>
            <div class="option-btn" data-scheme="triadic">
              <i class="fas fa-braille"></i>
              <span>Triádica</span>
            </div>
            <div class="option-btn" data-scheme="tetradic">
              <i class="fas fa-th"></i>
              <span>Tetrádica</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="generate-btn-container">
        <button class="generate-btn" id="generate-btn">
          <i class="fas fa-magic"></i>
          GERAR PALETA DE CORES
        </button>
      </div>
      
      <div class="harmony-display" id="harmony-display">
        <!-- Harmonized colors will be displayed here -->
      </div>
      
      <div class="action-buttons">
        <button class="action-btn" id="copy-all-btn">
          <i class="fas fa-copy"></i>
          Copiar todos HEX
        </button>
        <button class="action-btn" id="export-btn">
          <i class="fas fa-download"></i>
          Exportar Paleta
        </button>
      </div>
    </div>
  </div>

  <footer>
    <div class="footer-content">
      <p>Todos os direitos reservados | © 2025 Cejera | Ferramentas de design</p>
    </div>
  </footer>

  <script>
    // Configurações atuais
    const settings = {
      color1: '#F70707',
      color2: '#7c0000',
      colorCount: 7,
      scheme: 'monochromatic'
    };
    
    // Elementos DOM
    const color1Input = document.getElementById('color1-input');
    const color2Input = document.getElementById('color2-input');
    const color1Preview = document.getElementById('color1-preview');
    const color2Preview = document.getElementById('color2-preview');
    const colorCountSlider = document.getElementById('color-count');
    const colorCountValue = document.getElementById('color-count-value');
    const generateBtn = document.getElementById('generate-btn');
    const copyAllBtn = document.getElementById('copy-all-btn');
    const exportBtn = document.getElementById('export-btn');
    const notification = document.getElementById('notification');
    const harmonyDisplay = document.getElementById('harmony-display');
    
    // Atualizar visualização das cores
    function updateColorPreviews() {
      color1Preview.style.backgroundColor = settings.color1;
      color2Preview.style.backgroundColor = settings.color2;
    }
    
    // Ouvintes de eventos para os inputs de cores
    color1Input.addEventListener('input', function() {
      settings.color1 = this.value;
      updateColorPreviews();
    });
    
    color2Input.addEventListener('input', function() {
      settings.color2 = this.value;
      updateColorPreviews();
    });
    
    color1Preview.addEventListener('click', function() {
      color1Input.select();
    });
    
    color2Preview.addEventListener('click', function() {
      color2Input.select();
    });
    
    // Ouvinte para o controle deslizante
    colorCountSlider.addEventListener('input', function() {
      settings.colorCount = parseInt(this.value);
      colorCountValue.textContent = settings.colorCount;
    });
    
    // Ouvintes para os botões de esquema
    document.querySelectorAll('.option-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.option-btn').forEach(b => {
          b.classList.remove('active');
        });
        this.classList.add('active');
        settings.scheme = this.dataset.scheme;
      });
    });
    
    // Função para converter HEX para HSL
    function hexToHSL(hex) {
      // Converter HEX para RGB
      let r = 0, g = 0, b = 0;
      
      if (hex.length === 4) {
        r = parseInt(hex[1] + hex[1], 16);
        g = parseInt(hex[2] + hex[2], 16);
        b = parseInt(hex[3] + hex[3], 16);
      } else if (hex.length === 7) {
        r = parseInt(hex[1] + hex[2], 16);
        g = parseInt(hex[3] + hex[4], 16);
        b = parseInt(hex[5] + hex[6], 16);
      }
      
      // Converter RGB para HSL
      r /= 255;
      g /= 255;
      b /= 255;
      
      const max = Math.max(r, g, b);
      const min = Math.min(r, g, b);
      let h, s, l = (max + min) / 2;
      
      if (max === min) {
        h = s = 0; // Achromatic
      } else {
        const d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        
        switch (max) {
          case r: h = (g - b) / d + (g < b ? 6 : 0); break;
          case g: h = (b - r) / d + 2; break;
          case b: h = (r - g) / d + 4; break;
        }
        
        h /= 6;
      }
      
      return {
        h: Math.round(h * 360),
        s: Math.round(s * 100),
        l: Math.round(l * 100)
      };
    }
    
    // Função para converter HSL para HEX
    function hslToHex(h, s, l) {
      h /= 360;
      s /= 100;
      l /= 100;
      
      let r, g, b;
      
      if (s === 0) {
        r = g = b = l; // Achromatic
      } else {
        const hue2rgb = (p, q, t) => {
          if (t < 0) t += 1;
          if (t > 1) t -= 1;
          if (t < 1/6) return p + (q - p) * 6 * t;
          if (t < 1/2) return q;
          if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
          return p;
        };
        
        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
        const p = 2 * l - q;
        
        r = hue2rgb(p, q, h + 1/3);
        g = hue2rgb(p, q, h);
        b = hue2rgb(p, q, h - 1/3);
      }
      
      const toHex = x => {
        const hex = Math.round(x * 255).toString(16);
        return hex.length === 1 ? '0' + hex : hex;
      };
      
      return `#${toHex(r)}${toHex(g)}${toHex(b)}`.toUpperCase();
    }
    
    // Função para gerar paleta estratégica
    function generateStrategicPalette() {
      const baseHSL = hexToHSL(settings.color1);
      const secondaryHSL = settings.color2 ? hexToHSL(settings.color2) : null;
      
      const palette = [];
      
      // Adicionar offwhite (baseado na cor principal) - não branco puro
      const offwhite = hslToHex(
        baseHSL.h,
        Math.max(5, Math.min(15, baseHSL.s * 0.2)),
        Math.min(98, Math.max(95, baseHSL.l + 65))
      );
      
      // Adicionar offblack (baseado na cor principal) - não preto puro
      const offblack = hslToHex(
        baseHSL.h,
        Math.max(20, Math.min(40, baseHSL.s * 0.8)),
        Math.max(5, Math.min(10, baseHSL.l - 75))
      );
      
      // Adicionar cores base
      palette.push({
        hex: settings.color1,
        role: 'Cor Principal'
      });
      
      if (settings.color2) {
        palette.push({
          hex: settings.color2,
          role: 'Cor Secundária'
        });
      }
      
      // Gerar cores adicionais baseadas no esquema
      const additionalColors = settings.colorCount - palette.length - 2; // Subtrair offwhite e offblack
      
      for (let i = 0; i < additionalColors; i++) {
        let h, s, l;
        
        switch(settings.scheme) {
          case 'monochromatic':
            // Variações de matiz, saturação e luminosidade
            h = (baseHSL.h + i * 10) % 360;
            s = Math.max(20, Math.min(100, baseHSL.s + (i % 2 === 0 ? 10 : -10)));
            l = Math.max(20, Math.min(80, baseHSL.l + (i * 10 - 20)));
            break;
            
          case 'analogous':
            // Cores adjacentes
            h = (baseHSL.h + (i - Math.floor(additionalColors/2)) * 30) % 360;
            s = Math.max(30, Math.min(90, baseHSL.s + (i % 3 - 1) * 10));
            l = Math.max(30, Math.min(80, baseHSL.l + (i % 4 - 2) * 5));
            break;
            
          case 'complementary':
            // Cores complementares
            h = (baseHSL.h + 180 + (i - Math.floor(additionalColors/2)) * 20) % 360;
            s = Math.max(40, Math.min(100, baseHSL.s + (i % 2 === 0 ? 5 : -5)));
            l = Math.max(30, Math.min(70, baseHSL.l + (i % 3 - 1) * 10));
            break;
            
          case 'triadic':
            // Cores triádicas
            h = (baseHSL.h + i * 120) % 360;
            s = Math.max(40, Math.min(100, baseHSL.s + (i % 2 === 0 ? 5 : -5)));
            l = Math.max(30, Math.min(70, baseHSL.l + (i % 3 - 1) * 10));
            break;
            
          case 'tetradic':
            // Cores tetrádicas (retângulo)
            h = (baseHSL.h + i * 90) % 360;
            s = Math.max(30, Math.min(90, baseHSL.s + (i % 3 - 1) * 10));
            l = Math.max(30, Math.min(80, baseHSL.l + (i % 4 - 2) * 5));
            break;
        }
        
        palette.push({
          hex: hslToHex(h, s, l),
          role: `Cor ${i+1}`
        });
      }
      
      // Adicionar offwhite e offblack no início e no final
      palette.unshift({
        hex: offwhite,
        role: 'Offwhite'
      });
      
      palette.push({
        hex: offblack,
        role: 'Offblack'
      });
      
      return palette;
    }
    
    // Exibir paleta gerada
    function displayPalette(palette) {
      harmonyDisplay.innerHTML = '';
      
      palette.forEach((color, index) => {
        const colorCard = document.createElement('div');
        colorCard.className = 'color-card';
        
        const colorPreview = document.createElement('div');
        colorPreview.className = 'color-preview-large';
        colorPreview.style.backgroundColor = color.hex;
        colorPreview.textContent = color.role;
        colorPreview.style.color = color.hex === '#FFFFFF' ? '#000' : 
                                 color.hex === '#000000' ? '#FFF' : 
                                 hexToHSL(color.hex).l > 50 ? '#000' : '#FFF';
        
        const colorRole = document.createElement('div');
        colorRole.className = 'color-role';
        colorRole.textContent = color.role;
        colorRole.style.color = hexToHSL(color.hex).l > 50 ? '#000' : '#FFF';
        
        const colorInfo = document.createElement('div');
        colorInfo.className = 'color-info';
        
        const hexCode = document.createElement('div');
        hexCode.className = 'hex-code';
        hexCode.textContent = color.hex;
        
        hexCode.addEventListener('click', () => {
          copyToClipboard(color.hex);
          showNotification('Código HEX copiado!');
        });
        
        colorInfo.appendChild(hexCode);
        colorPreview.appendChild(colorRole);
        colorCard.appendChild(colorPreview);
        colorCard.appendChild(colorInfo);
        harmonyDisplay.appendChild(colorCard);
      });
    }
    
    // Função para copiar texto para a área de transferência
    function copyToClipboard(text) {
      const textarea = document.createElement('textarea');
      textarea.value = text;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
    }
    
    // Função para mostrar notificação
    function showNotification(message) {
      notification.textContent = message;
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 2000);
    }
    
    // Evento para gerar paleta
    generateBtn.addEventListener('click', () => {
      const palette = generateStrategicPalette();
      displayPalette(palette);
    });
    
    // Copiar todos os códigos HEX
    copyAllBtn.addEventListener('click', () => {
      const hexCodes = [];
      const hexElements = document.querySelectorAll('.hex-code');
      
      hexElements.forEach(hex => {
        hexCodes.push(hex.textContent);
      });
      
      copyToClipboard(hexCodes.join('\n'));
      showNotification('Todos os códigos HEX copiados!');
    });
    
    // Exportar paleta
    exportBtn.addEventListener('click', () => {
      const palette = generateStrategicPalette();
      const paletteData = {
        name: "Paleta de cores",
        created: new Date().toISOString(),
        colors: palette
      };
      
      const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(paletteData, null, 2));
      const downloadAnchorNode = document.createElement('a');
      downloadAnchorNode.setAttribute("href", dataStr);
      downloadAnchorNode.setAttribute("download", "paleta-gerada-cejera.json");
      document.body.appendChild(downloadAnchorNode);
      downloadAnchorNode.click();
      downloadAnchorNode.remove();
      
      showNotification('Paleta exportada com sucesso!');
    });
    
    // Inicializar
    updateColorPreviews();
    
    // Gerar paleta inicial
    generateBtn.click();
  </script>
</body>
</html>
